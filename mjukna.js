var mjukna=function(){"use strict";function t(e,n,o,i){e.forEach((e,r)=>{Array.isArray(e)?t(e,n[r],o[r],i):o[r]=e+(n[r]-e)*i})}function e(e,n){const o=e.stiffness||10,i=e.damping||.5,r=!!e.noOvershoot;let s=e.velocity||0;const{from:c,to:a}=e,l=function t(e){return e.map(e=>Array.isArray(e)?t(e):e)}(e.from);let u=0;const p=()=>{if(n.isStopped())return;if(u+=s+=(1-u)*(o/100)-s*i,r&&u>1&&(s*=-1,u=1-(u-1)),Math.abs(u-1)<.001&&Math.abs(s)<.001)return t(c,a,l,1),e.update(a),void(e.done&&e.done());t(c,a,l,u),e.update(l),n(p)};n(p)}function n(t){const n={stopped:!1},o=t=>{n.stopped||window.requestAnimationFrame(t)};return o.isStopped=(()=>n.stopped),e(t,o),()=>{n.stopped=!0}}function o(t,e,n){n[0]=t[0]*e[0]+t[1]*e[3]+t[2]*e[6],n[1]=t[0]*e[1]+t[1]*e[4]+t[2]*e[7],n[2]=t[0]*e[2]+t[1]*e[5]+t[2]*e[8],n[3]=t[3]*e[0]+t[4]*e[3]+t[5]*e[6],n[4]=t[3]*e[1]+t[4]*e[4]+t[5]*e[7],n[5]=t[3]*e[2]+t[4]*e[5]+t[5]*e[8],n[6]=t[6]*e[0]+t[7]*e[3]+t[8]*e[6],n[7]=t[6]*e[1]+t[7]*e[4]+t[8]*e[7],n[8]=t[6]*e[2]+t[7]*e[5]+t[8]*e[8]}function i(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1}function r(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8]}const s=new Float32Array(9),c=new Float32Array(9);function a(){const t=new Float32Array(9);return i(t),{t(e,n){return r(t,s),function(t,e,n){t[0]=1,t[1]=0,t[2]=e,t[3]=0,t[4]=1,t[5]=n,t[6]=0,t[7]=0,t[8]=1}(c,e,n),o(s,c,t),this},s(e,n){return r(t,s),function(t,e,n){t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1}(c,e,n),o(s,c,t),this},css:()=>`matrix(${t[0].toFixed(5)}, ${t[1].toFixed(5)}, ${t[3].toFixed(5)}, ${t[4].toFixed(5)}, ${t[2].toFixed(5)}, ${t[5].toFixed(5)})`,clear(){return i(t),this}}}const l=a();function u(t){return l.clear().s(t,t).css()}function p(t,e,o,i){t.style.opacity=e[0],t.style.transform=u(e[1]),n({from:e,to:o,update([e,n]){t.style.opacity=e,t.style.transform=u(n)},done(){t.style.opacity=o[0],t.style.transform=u(o[1]),i()}})}function f(t,e){return{left:e.left-t.left,top:e.top-t.top,width:e.width,height:e.height}}const d=a(),m={childList:!0,subtree:!0,attributes:!0},h=(t,e)=>0===e?t():setTimeout(t,e);let y,g=[],w={},x=[],A=()=>{};function v(){y||(y=new MutationObserver(t=>{y.disconnect();let e=0;const o=()=>{const t=e;return e+=w.staggerBy,t},i=t.filter(({type:t})=>"childList"===t),r=i.map(t=>Array.from(t.addedNodes)).reduce((t,e)=>t.concat(e),[]).filter(({nodeType:t})=>1===t).filter(t=>w.enterFilter(t)),s=r.filter(t=>!g.find(e=>t===e.getElement())),c=g.filter(t=>!t.getElement().parentNode),a=g.filter(t=>t.getElement().parentNode);Promise.all([].concat(c.map(t=>(function(t,e){const{previousPosition:n}=t,o=t.getElement();document.body.appendChild(o),o.style.position="absolute",o.style.width=`${n.width}px`,o.style.height=`${n.height}px`;const i=o.getBoundingClientRect(),r=i.left-n.left,s=i.top-n.top;return o.style.willChange="transform, opacity",o.style.top=`${s}px`,o.style.left=`${r}px`,new Promise(t=>{h(()=>{const e=()=>{document.body.removeChild(o),t()};if(w.exitAnimation)return w.exitAnimation(o,e);!function(t,e){p(t,[1,1],[0,.8],e)}(o,e)},e())})})(t,o))).concat(function(t,e){const o=function t(e,n=[]){return e.forEach(e=>{n.push(e),t(e.children,n)}),n}(function t(e){return e.map(e=>{const{previousPosition:n}=e,o=e.element.getBoundingClientRect(),i={x:n.width/o.width,y:n.height/o.height};return e.newPosition=e.parent?f(e.parent.newPosition,o):o,e.parentScale=e.parent?function(t,e){return{x:e.x*t.x,y:e.y*t.y}}(e.parent.scale,e.parent.parentScale):{x:1,y:1},e.scale=i,e.previousPosition=e.parent?f(e.parent.previousPosition,n):n,e.children=t(e.children),e})}(t.map(t=>Object.assign(t,{mjuk:t,element:t.getElement()})).reduce((t,e)=>(function t(e,n,o){n.element.style.transform="";const i=e.find(t=>t.element.contains(n.element));if(i)return e.map(e=>e===i?Object.assign(e,{parent:o,children:t(i.children,n,i)}):e);{const t=e.filter(t=>n.element.contains(t.element)),i=e.filter(t=>!n.element.contains(t.element)),r=Object.assign(n,{parent:o,children:t});return function(t,e){t.forEach(t=>{t.parent=e})}(r.children,r),[...i,r]}})(t,e),[]))).map(t=>(function(t,e){const{parentScale:o,element:i,scale:r,previousPosition:s,newPosition:c}=t,a=s.left+s.width/2-(c.left+c.width/2),l=s.top+s.height/2-(c.top+c.height/2),u=r.x,p=r.y,f=c.left+c.width/2,m=c.top+c.height/2;i.style.willChange="transform",i.style.transform=d.clear().t(-f,-m).s(1/o.x,1/o.y).t(f,m).t(a,l).s(u,p).css();const y=[i,void 0,()=>{}];return x.push(y),new Promise(t=>{y[1]=h(()=>{y[2]=n(Object.assign({from:[a,l,u,p,o.x,o.y],to:[0,0,1,1,1,1],update([t,e,n,o,r,s]){i.style.transform=d.clear().t(-f,-m).s(1/r,1/s).t(f,m).t(t,e).s(n,o).css()},done(){i.style.transform="",t()}},w.spring))},e())})})(t,e));return g=[],Promise.all(o)}(a,o)).concat(s.map(t=>(function(t,e){return t.style.willChange="transform, opacity",new Promise(n=>{h(()=>{if(w.enterAnimation)return w.enterAnimation(t,n);!function(t,e){p(t,[0,.8],[1,1],e)}(t,n)},e())})})(t,o)))).then(A)})),y.observe(document,m)}const P=()=>!1;return function(t,e={}){return v(),new Promise(n=>{A=n,w={spring:e.spring,staggerBy:e.staggerBy||0,enterFilter:e.enterFilter||P,enterAnimation:e.enterAnimation,exitAnimation:e.exitAnimation};const o=Number.isInteger(t.length)?t:[].concat(t);for(let t of o){const e=t.anchor?t.element:()=>t;x=x.filter(([t,n,o])=>(t===e()&&(clearInterval(n),o()),t!==e()));const n={getElement:e,previousPosition:t.anchor?t.anchor.getBoundingClientRect():e().getBoundingClientRect(),stop:()=>{}};g.push(n)}})}}();
