var mjukna=function(){"use strict";function t(t,e,n,o){t.forEach((t,i)=>{n[i]=t+(e[i]-t)*o})}function e(e){const n={stopped:!1},o=t=>{n.stopped||window.requestAnimationFrame(t)};return o.isStopped=(()=>n.stopped),function(e,n){const o=e.stiffness||10,i=e.damping||.5,r=!!e.noOvershoot;let s=e.velocity||0;const{from:c,to:a}=e,l=[...e.from];let u=0;const p=()=>{if(!n.isStopped())return u+=s+=o/100*(1-u)-s*i,r&&u>1&&(s*=-1,u=1-(u-1)),Math.abs(u-1)<.001&&Math.abs(s)<.001?(t(c,a,l,1),e.update(a),void(e.done&&e.done())):(t(c,a,l,u),e.update(l),void n(p))};n(p)}(e,o),()=>{n.stopped=!0}}function n(t,e,n){n[0]=t[0]*e[0]+t[1]*e[3]+t[2]*e[6],n[1]=t[0]*e[1]+t[1]*e[4]+t[2]*e[7],n[2]=t[0]*e[2]+t[1]*e[5]+t[2]*e[8],n[3]=t[3]*e[0]+t[4]*e[3]+t[5]*e[6],n[4]=t[3]*e[1]+t[4]*e[4]+t[5]*e[7],n[5]=t[3]*e[2]+t[4]*e[5]+t[5]*e[8],n[6]=t[6]*e[0]+t[7]*e[3]+t[8]*e[6],n[7]=t[6]*e[1]+t[7]*e[4]+t[8]*e[7],n[8]=t[6]*e[2]+t[7]*e[5]+t[8]*e[8]}function o(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1}function i(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8]}const r=new Float32Array(9),s=new Float32Array(9);function c(){const t=new Float32Array(9);return o(t),{t(e,o){return i(t,r),function(t,e,n){t[0]=1,t[1]=0,t[2]=e,t[3]=0,t[4]=1,t[5]=n,t[6]=0,t[7]=0,t[8]=1}(s,e,o),n(r,s,t),this},s(e,o){return i(t,r),function(t,e,n){t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1}(s,e,o),n(r,s,t),this},css:()=>`matrix(${t[0].toFixed(5)}, ${t[1].toFixed(5)}, ${t[3].toFixed(5)}, ${t[4].toFixed(5)}, ${t[2].toFixed(5)}, ${t[5].toFixed(5)})`,clear(){return o(t),this}}}const a=c();function l(t){return a.clear().s(t,t).css()}function u(t,n,o,i,r){t.style.opacity=n[0],t.style.transform=l(n[1]),e(Object.assign({from:n,to:o,update([e,n]){t.style.opacity=e,t.style.transform=l(n)},done(){t.style.opacity=o[0],t.style.transform=l(o[1]),r()}},i))}function p(t,e){return{left:e.left-t.left,top:e.top-t.top,width:e.width,height:e.height}}const f=c(),d={childList:!0,subtree:!0,attributes:!0},m=(t,e)=>0===e?t():setTimeout(t,e);let h,g=[],y={},w=[],x=()=>{};function v(){h||(h=new MutationObserver(t=>{h.disconnect();let n=0;const o=()=>{const t=n;return n+=y.staggerBy,t},i=t.filter(({type:t})=>"childList"===t),r=i.map(t=>Array.from(t.addedNodes)).reduce((t,e)=>t.concat(e),[]).filter(({nodeType:t})=>1===t),s=[];for(const t of i)for(const e of t.removedNodes){const n=g.find(t=>t.getElement()===e),o=r.includes(e);n&&!o&&s.push([n,t.target])}const c=r.filter(t=>y.enterFilter(t)).filter(t=>!g.find(e=>t===e.getElement())),a=g.filter(t=>t.getElement().parentNode);Promise.all([].concat(s.map(([t,e])=>(function(t,e,n){const{previousPosition:o}=t,i=t.getElement();e.appendChild(i),i.style.position="absolute",i.style.width=`${o.width}px`,i.style.height=`${o.height}px`,i.style.top=0,i.style.left=0;const r=i.getBoundingClientRect(),s=r.left-o.left,c=r.top-o.top;return i.style.willChange="transform, opacity",i.style.top=`${-c}px`,i.style.left=`${-s}px`,new Promise(t=>{m(()=>{const e=()=>{i.remove(),t()};if(y.exitAnimation)return y.exitAnimation(i,e);!function(t,e,n){u(t,[1,1],[0,.8],e,n)}(i,y.spring,e)},n())})})(t,e,o))).concat(function(t,n){const o=function t(e,n=[]){return e.forEach(e=>{n.push(e),t(e.children,n)}),n}(function t(e){return e.map(e=>{const{previousPosition:n}=e,o=e.element.getBoundingClientRect(),i={x:n.width/o.width,y:n.height/o.height};return e.newPosition=e.parent?p(e.parent.newPosition,o):o,e.parentScale=e.parent?function(t,e){return{x:e.x*t.x,y:e.y*t.y}}(e.parent.scale,e.parent.parentScale):{x:1,y:1},e.scale=i,e.previousPosition=e.parent?p(e.parent.previousPosition,n):n,e.children=t(e.children),e})}(t.map(t=>Object.assign(t,{mjuk:t,element:t.getElement()})).reduce((t,e)=>(function t(e,n,o){n.element.style.transform="";const i=e.find(t=>t.element.contains(n.element));if(i)return e.map(e=>e===i?Object.assign(e,{parent:o,children:t(i.children,n,i)}):e);{const t=e.filter(t=>n.element.contains(t.element)),i=e.filter(t=>!n.element.contains(t.element)),r=Object.assign(n,{parent:o,children:t});return function(t,e){t.forEach(t=>{t.parent=e})}(r.children,r),[...i,r]}})(t,e),[]))).map(t=>(function(t,n){const{parentScale:o,element:i,scale:r,previousPosition:s,newPosition:c}=t,a=s.left+s.width/2-(c.left+c.width/2),l=s.top+s.height/2-(c.top+c.height/2),u=r.x,p=r.y,d=c.left+c.width/2,h=c.top+c.height/2;i.style.willChange="transform",i.style.transform=f.clear().t(-d,-h).s(1/o.x,1/o.y).t(d,h).t(a,l).s(u,p).css();const g=[i,void 0,()=>{}];return w.push(g),new Promise(t=>{g[1]=m(()=>{g[2]=e(Object.assign({from:[a,l,u,p,o.x,o.y],to:[0,0,1,1,1,1],update([t,e,n,o,r,s]){i.style.transform=f.clear().t(-d,-h).s(1/r,1/s).t(d,h).t(t,e).s(n,o).css()},done(){i.style.transform="",t()}},y.spring))},n())})})(t,n));return g=[],Promise.all(o)}(a,o)).concat(c.map(t=>(function(t,e){return t.style.willChange="transform, opacity",new Promise(n=>{m(()=>{if(y.enterAnimation)return y.enterAnimation(t,n);!function(t,e,n){u(t,[0,.8],[1,1],e,n)}(t,y.spring,n)},e())})})(t,o)))).then(x)})),h.observe(document,d)}const P=()=>!1;return function(t,e={}){return v(),new Promise(n=>{x=n,y={spring:e.spring,staggerBy:e.staggerBy||0,enterFilter:e.enterFilter||P,enterAnimation:e.enterAnimation};const o=Number.isInteger(t.length)?t:[].concat(t);for(let t of o){const e=t.anchor?t.element:()=>t;w=w.filter(([t,n,o])=>(t===e()&&(clearInterval(n),o()),t!==e()));const n={getElement:e,previousPosition:t.anchor?t.anchor.getBoundingClientRect():e().getBoundingClientRect(),stop:()=>{}};g.push(n)}})}}();
