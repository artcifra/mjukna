var mjukna=function(){"use strict";function e(t,n,o,i){t.forEach((t,r)=>{Array.isArray(t)?e(t,n[r],o[r],i):o[r]=t+(n[r]-t)*i})}function t(t,n){const o=t.stiffness||10,i=t.damping||.5,r=!!t.noOvershoot;let s=t.velocity||0;const{from:c,to:a}=t,u=function e(t){return t.map(t=>Array.isArray(t)?e(t):t)}(t.from);let l=0;const f=()=>{if(n.isStopped())return;if(l+=s+=(1-l)*(o/100)-s*i,r&&l>1&&(s*=-1,l=1-(l-1)),Math.abs(l-1)<.001&&Math.abs(s)<.001)return e(c,a,u,1),t.update(a),void(t.done&&t.done());e(c,a,u,l),t.update(u),n(f)};n(f)}function n(e){const n={stopped:!1},o=e=>{n.stopped||window.requestAnimationFrame(e)};return o.isStopped=(()=>n.stopped),t(e,o),()=>{n.stopped=!0}}function o(e,t,n){n[0]=e[0]*t[0]+e[1]*t[3]+e[2]*t[6],n[1]=e[0]*t[1]+e[1]*t[4]+e[2]*t[7],n[2]=e[0]*t[2]+e[1]*t[5]+e[2]*t[8],n[3]=e[3]*t[0]+e[4]*t[3]+e[5]*t[6],n[4]=e[3]*t[1]+e[4]*t[4]+e[5]*t[7],n[5]=e[3]*t[2]+e[4]*t[5]+e[5]*t[8],n[6]=e[6]*t[0]+e[7]*t[3]+e[8]*t[6],n[7]=e[6]*t[1]+e[7]*t[4]+e[8]*t[7],n[8]=e[6]*t[2]+e[7]*t[5]+e[8]*t[8]}function i(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}function r(e,t){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8]}const s=new Float32Array(9),c=new Float32Array(9);function a(){const e=new Float32Array(9);return i(e),{t(t,n){return r(e,s),function(e,t,n){e[0]=1,e[1]=0,e[2]=t,e[3]=0,e[4]=1,e[5]=n,e[6]=0,e[7]=0,e[8]=1}(c,t,n),o(s,c,e),this},s(t,n){return r(e,s),function(e,t,n){e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1}(c,t,n),o(s,c,e),this},css:()=>`matrix(${e[0].toFixed(5)}, ${e[1].toFixed(5)}, ${e[3].toFixed(5)}, ${e[4].toFixed(5)}, ${e[2].toFixed(5)}, ${e[5].toFixed(5)})`,clear(){return i(e),this}}}const u=a();function l(e){return{from:[0,.8],to:[1,1],start(){e.style.opacity=0,e.style.transform=u.clear().s(.8,.8).css()},update([t,n]){e.style.opacity=t,e.style.transform=u.clear().s(n,n).css()},end(){e.style.opacity=1,e.style.transform=u.clear().s(1,1).css()}}}function f(e,{offsetX:t=0,offsetY:n=0,scaleOriginX:o=0,scaleOriginY:i=0,squeezeX:r=!1,squeezeY:s=!1}){return{from:[0],to:[1],start(){e.style.transform=u.clear().t(-t,-n).t(-o,-i).s(r?0:1,s?0:1).t(o,i).css()},update([c]){e.style.transform=u.clear().t(-t,-n).t(-o,-i).s(r?c:1,s?c:1).t(o,i).css()},end(){e.style.transform=u.clear().t(-t,-n).css()}}}const d={squeeze:function(e){return f(e,{squeezeX:!0,squeezeY:!0})},squeezeLeft:function(e){const t=e.getBoundingClientRect().width/2;return f(e,{scaleOriginX:t,squeezeX:!0})},squeezeRight:function(e){const t=-e.getBoundingClientRect().width/2;return f(e,{scaleOriginX:t,squeezeX:!0})},squeezeBottom:function(e){const t=-e.getBoundingClientRect().height/2;return f(e,{scaleOriginY:t,squeezeY:!0})},squeezeTop:function(e){const t=e.getBoundingClientRect().height/2;return f(e,{scaleOriginY:t,squeezeY:!0})},fade:l};const p={squeeze:function(e,t,n){return f(e,{offsetX:t,offsetY:n,squeezeX:!0,squeezeY:!0})},squeezeLeft:function(e,t,n){const o=e.getBoundingClientRect().width/2;return f(e,{offsetX:t,offsetY:n,scaleOriginX:o,squeezeX:!0})},squeezeRight:function(e,t,n){const o=-e.getBoundingClientRect().width/2;return f(e,{offsetX:t,offsetY:n,scaleOriginX:o,squeezeX:!0})},squeezeTop:function(e,t,n){const o=e.getBoundingClientRect().height/2;return f(e,{offsetX:t,offsetY:n,scaleOriginY:o,squeezeY:!0})},squeezeBottom:function(e,t,n){const o=-e.getBoundingClientRect().height/2;return f(e,{offsetX:t,offsetY:n,scaleOriginY:o,squeezeY:!0})}};function g(e,t){return{left:t.left-e.left,top:t.top-e.top,width:t.width,height:t.height}}const m=a(),h={childList:!0,subtree:!0,attributes:!0},y=(e,t)=>0===t?e():setTimeout(e,t);let w,q=[],z={},x=[],O=()=>{};function X(){w||(w=new MutationObserver(e=>{w.disconnect();let t=0;const o=()=>{const e=t;return t+=z.staggerBy,e},i=e.filter(({type:e})=>"childList"===e),r=i.map(e=>Array.from(e.addedNodes)).reduce((e,t)=>e.concat(t),[]).filter(({nodeType:e})=>1===e).filter(e=>z.enterFilter(e)),s=r.filter(e=>!q.find(t=>e===t.getElement())),c=q.filter(e=>!e.getElement().parentNode),a=q.filter(e=>e.getElement().parentNode);Promise.all([].concat(c.map(e=>(function(e,t){const{previousPosition:o}=e,i=e.getElement();document.body.appendChild(i),i.style.position="absolute",i.style.width=`${o.width}px`,i.style.height=`${o.height}px`;const r=i.getBoundingClientRect(),s=r.left-o.left,c=r.top-o.top;i.style.willChange="transform, opacity";const a=function(e,t,n,o){return(p[e]||f)(t,n,o)}(z.exitAnimation,i,s,c);return a.end(),new Promise(e=>y(()=>{n(Object.assign({from:a.to,to:a.from,update:a.update,done(){a.start(),document.body.removeChild(i),e()}},z.spring))},t()))})(e,o))).concat(function(e,t){const o=function e(t,n=[]){return t.forEach(t=>{n.push(t),e(t.children,n)}),n}(function e(t){return t.map(t=>{const{previousPosition:n}=t,o=t.element.getBoundingClientRect(),i={x:n.width/o.width,y:n.height/o.height};return t.newPosition=t.parent?g(t.parent.newPosition,o):o,t.parentScale=t.parent?function(e,t){return{x:t.x*e.x,y:t.y*e.y}}(t.parent.scale,t.parent.parentScale):{x:1,y:1},t.scale=i,t.previousPosition=t.parent?g(t.parent.previousPosition,n):n,t.children=e(t.children),t})}(e.map(e=>Object.assign(e,{mjuk:e,element:e.getElement()})).reduce((e,t)=>(function e(t,n,o){n.element.style.transform="";const i=t.find(e=>e.element.contains(n.element));if(i)return t.map(t=>t===i?Object.assign(t,{parent:o,children:e(i.children,n,i)}):t);{const e=t.filter(e=>n.element.contains(e.element)),i=t.filter(e=>!n.element.contains(e.element)),r=Object.assign(n,{parent:o,children:e});return function(e,t){e.forEach(e=>{e.parent=t})}(r.children,r),[...i,r]}})(e,t),[]))).map(e=>(function(e,t){const{parentScale:o,element:i,scale:r,previousPosition:s,newPosition:c}=e,a=s.left+s.width/2-(c.left+c.width/2),u=s.top+s.height/2-(c.top+c.height/2),l=r.x,f=r.y,d=c.left+c.width/2,p=c.top+c.height/2;i.style.willChange="transform",i.style.transform=m.clear().t(-d,-p).s(1/o.x,1/o.y).t(d,p).t(a,u).s(l,f).css();const g=[i,void 0,()=>{}];return x.push(g),new Promise(e=>{g[1]=y(()=>{g[2]=n(Object.assign({from:[a,u,l,f,o.x,o.y],to:[0,0,1,1,1,1],update([e,t,n,o,r,s]){i.style.transform=m.clear().t(-d,-p).s(1/r,1/s).t(d,p).t(e,t).s(n,o).css()},done(){i.style.transform="",e()}},z.spring))},t())})})(e,t));return q=[],Promise.all(o)}(a,o)).concat(s.map(e=>(function(e,t){e.style.willChange="transform, opacity";const o=function(e,t){return(d[e]||l)(t)}(z.enterAnimation,e);return o.start(),new Promise(e=>y(()=>{n(Object.assign({from:o.from,to:o.to,update:o.update,done:()=>{o.end(),e()}},z.spring))},t()))})(e,o)))).then(O)})),w.observe(document,h)}const Y=()=>!1;return function(e,t={}){return X(),new Promise(n=>{O=n,z={spring:t.spring,staggerBy:t.staggerBy||0,enterFilter:t.enterFilter||Y,enterAnimation:t.enterAnimation,exitAnimation:t.exitAnimation};const o=Number.isInteger(e.length)?e:[].concat(e);for(let e of o){const t=e.anchor?e.element:()=>e;x=x.filter(([e,n,o])=>(e===t()&&(clearInterval(n),o()),e!==t()));const n={getElement:t,previousPosition:e.anchor?e.anchor.getBoundingClientRect():t().getBoundingClientRect(),stop:()=>{}};q.push(n)}})}}();
