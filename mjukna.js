var mjukna=function(){"use strict";function t(e,n,o,i){e.forEach((e,r)=>{Array.isArray(e)?t(e,n[r],o[r],i):o[r]=e+(n[r]-e)*i})}function e(e,n){const o=e.tension||.8,i=e.deceleration||.8,r=e.friction||1;let s=e.initialVelocity||0;const{from:a,to:c}=e,l=function t(e){return e.map(e=>Array.isArray(e)?t(e):e)}(e.from);let p=0;const d=()=>{if(n.isStopped())return;if(s+=(1-p)*o*r,p+=s*=i,Math.abs(p-1)<.001&&Math.abs(s)<.001)return t(a,c,l,1),e.update(c),void(e.done&&e.done());t(a,c,l,p),e.update(l),n(d)};n(d)}function n(t){const n={stopped:!1},o=t=>{n.stopped||window.requestAnimationFrame(t)};return o.isStopped=(()=>n.stopped),e(t,o),()=>{n.stopped=!0}}let o,i=[];const r={childList:!0,subtree:!0,attributes:!0},s=.1,a=.65;let c=[],l=()=>{};function p(){o||(o=new MutationObserver(t=>{o.disconnect();const[e,n]=t.filter(({type:t})=>"childList"===t).reduce(([t,e],n)=>[t.concat(Array.from(n.addedNodes)),e.concat(Array.from(n.removedNodes))],[[],[]]),[r,s]=i.reduce(([t,e],o)=>{const i=o.getElement();return n.find(t=>t===i)?[t,e.concat(o)]:[t.concat(o),e]},[[],[]]),a=e.filter(t=>!i.find(e=>t===e.getElement()));a.forEach(d),s.forEach(u),function(t){const e=function t(e,n=[]){return e.forEach(e=>{n.push(e),t(e.children,n)}),n}(function t(e){return e.map(e=>{const{previousPosition:n}=e,o=e.element.getBoundingClientRect(),i={x:n.width/o.width,y:n.height/o.height};return e.newPosition=e.parent?f(e.parent.newPosition,o):o,e.parentScale=e.parent?function(t,e){return{x:e.x*t.x,y:e.y*t.y}}(e.parent.scale,e.parent.parentScale):{x:1,y:1},e.scale=i,e.previousPosition=e.parent?f(e.parent.previousPosition,n):n,e.children=t(e.children),e})}(t.map(t=>Object.assign(t,{mjuk:t,element:t.getElement()})).reduce((t,e)=>(function t(e,n,o){n.element.style.transform="";const i=e.find(t=>t.element.contains(n.element));if(i)return e.map(e=>e===i?Object.assign(e,{parent:o,children:t(i.children,n,i)}):e);{const t=e.filter(t=>n.element.contains(t.element)),i=e.filter(t=>!n.element.contains(t.element)),r=Object.assign(n,{parent:o,children:t});return function(t,e){t.forEach(t=>{t.parent=e})}(r.children,r),[...i,r]}})(t,e),[]))).map(y);i=[],Promise.all(e).then(l)}(r)})),o.observe(document,r)}function d(t){t.style.opacity=0,t.style.transform="scale(0.4)",n({from:[0,.4],to:[1,1],update:([e,n])=>{t.style.opacity=e,t.style.transform=`scale(${n})`},done(){t.style.opacity=1,t.style.transform=""},tension:s,deceleration:a})}function u(t){const{previousPosition:e}=t,o=t.getElement();document.body.appendChild(o),o.style.position="absolute";const i=o.getBoundingClientRect(),r=i.left-e.left,c=i.top-e.top;o.style.transform=`translate(${-r}px, ${-c}px)`,n({from:[1,1],to:[.3,0],update([t,e]){o.style.transform=`translate(${-r}px, ${-c}px) scale(${t})`,o.style.opacity=e},done(){document.body.removeChild(o)},tension:s,deceleration:a})}const f=(t,e)=>({left:e.left-t.left,top:e.top-t.top,width:e.width,height:e.height});function m(t,e,n,o){return`translate(${-t}px, ${-e}px) scale(${n}, ${o}) translate(${t}px, ${e}px) `}function h(t,e,n,o){return`translate(${t}px, ${e}px) scale(${n}, ${o}) `}function y(t,e){const{parentScale:o,element:i,previousPosition:r,newPosition:s,config:{tension:a,deceleration:l,staggerBy:p}}=t,d=r.left+r.width/2-(s.left+s.width/2),u=r.top+r.height/2-(s.top+s.height/2),f=t.scale.x,y=t.scale.y,g=s.left+s.width/2,x=s.top+s.height/2;i.style.transform=m(g,x,1/o.x,1/o.y)+h(d,u,f,y);const $=[i,void 0,()=>{}];c.push($);const w=0===p?t=>t():t=>setTimeout(t,e*p);return new Promise(t=>{$[1]=w(()=>{$[2]=n({from:[d,u,f,y,o.x,o.y],to:[0,0,1,1,1,1],update([t,e,n,o,r,s]){i.style.transform=m(g,x,1/r,1/s)+h(t,e,n,o)},done(){i.style.transform="",t()},tension:a,deceleration:l})})})}return function(t,{tension:e=s,deceleration:n=a,staggerBy:o=0,enterAnimation:r=!1,exitAnimation:d=!1}={}){return p(),new Promise(s=>{l=s,[].concat(t).forEach(t=>{const s=t.anchor?t.element:()=>t;c=c.filter(([t,e,n])=>(t===s()&&(clearInterval(e),n()),t!==s()));const a={getElement:s,config:{tension:e,deceleration:n,staggerBy:o,enterAnimation:r,exitAnimation:d},previousPosition:t.anchor?t.anchor().getBoundingClientRect():s().getBoundingClientRect(),stop:()=>{}};i.push(a)})})}}();
